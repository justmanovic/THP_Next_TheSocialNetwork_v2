[{"/Users/david/Precious Minds Dropbox/David Guetta/THP/Nxt-J7-2/THP_Next_TheSocialNetwork_v2/src/index.js":"1","/Users/david/Precious Minds Dropbox/David Guetta/THP/Nxt-J7-2/THP_Next_TheSocialNetwork_v2/src/App.js":"2","/Users/david/Precious Minds Dropbox/David Guetta/THP/Nxt-J7-2/THP_Next_TheSocialNetwork_v2/src/store/index.js":"3","/Users/david/Precious Minds Dropbox/David Guetta/THP/Nxt-J7-2/THP_Next_TheSocialNetwork_v2/src/store/auth-slice.js":"4","/Users/david/Precious Minds Dropbox/David Guetta/THP/Nxt-J7-2/THP_Next_TheSocialNetwork_v2/src/pages/HomePage.js":"5","/Users/david/Precious Minds Dropbox/David Guetta/THP/Nxt-J7-2/THP_Next_TheSocialNetwork_v2/src/components/Profile/UserProfile.js":"6","/Users/david/Precious Minds Dropbox/David Guetta/THP/Nxt-J7-2/THP_Next_TheSocialNetwork_v2/src/components/Layout/Layout.js":"7","/Users/david/Precious Minds Dropbox/David Guetta/THP/Nxt-J7-2/THP_Next_TheSocialNetwork_v2/src/components/Layout/MainNavigation.js":"8","/Users/david/Precious Minds Dropbox/David Guetta/THP/Nxt-J7-2/THP_Next_TheSocialNetwork_v2/src/components/StartingPage/StartingPageContent.js":"9","/Users/david/Precious Minds Dropbox/David Guetta/THP/Nxt-J7-2/THP_Next_TheSocialNetwork_v2/src/components/Auth/SignUpForm.js":"10","/Users/david/Precious Minds Dropbox/David Guetta/THP/Nxt-J7-2/THP_Next_TheSocialNetwork_v2/src/components/Auth/SignInForm.js":"11","/Users/david/Precious Minds Dropbox/David Guetta/THP/Nxt-J7-2/THP_Next_TheSocialNetwork_v2/src/components/Profile/MyProfile.js":"12","/Users/david/Precious Minds Dropbox/David Guetta/THP/Nxt-J7-2/THP_Next_TheSocialNetwork_v2/src/components/Profile/MyProfileForm.js":"13"},{"size":582,"mtime":1636386273805,"results":"14","hashOfConfig":"15"},{"size":1033,"mtime":1636391191956,"results":"16","hashOfConfig":"15"},{"size":560,"mtime":1636389510839,"results":"17","hashOfConfig":"15"},{"size":471,"mtime":1636386273806,"results":"18","hashOfConfig":"15"},{"size":171,"mtime":1636386273805,"results":"19","hashOfConfig":"15"},{"size":252,"mtime":1636390618865,"results":"20","hashOfConfig":"15"},{"size":246,"mtime":1636386273803,"results":"21","hashOfConfig":"15"},{"size":1346,"mtime":1636391024188,"results":"22","hashOfConfig":"15"},{"size":240,"mtime":1636386273804,"results":"23","hashOfConfig":"15"},{"size":2238,"mtime":1636390072658,"results":"24","hashOfConfig":"15"},{"size":1957,"mtime":1636390046478,"results":"25","hashOfConfig":"15"},{"size":271,"mtime":1636390817229,"results":"26","hashOfConfig":"15"},{"size":1430,"mtime":1636390955472,"results":"27","hashOfConfig":"15"},{"filePath":"28","messages":"29","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},"1n24sb",{"filePath":"31","messages":"32","errorCount":1,"fatalErrorCount":1,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"33","messages":"34","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"35","messages":"36","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"37","messages":"38","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"39","messages":"40","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"41","messages":"42","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"43","messages":"44","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"45","usedDeprecatedRules":"30"},{"filePath":"46","messages":"47","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"48","messages":"49","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"50","usedDeprecatedRules":"30"},{"filePath":"51","messages":"52","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"53","usedDeprecatedRules":"30"},{"filePath":"54","messages":"55","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"56","messages":"57","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"58","usedDeprecatedRules":"30"},"/Users/david/Precious Minds Dropbox/David Guetta/THP/Nxt-J7-2/THP_Next_TheSocialNetwork_v2/src/index.js",[],["59","60"],"/Users/david/Precious Minds Dropbox/David Guetta/THP/Nxt-J7-2/THP_Next_TheSocialNetwork_v2/src/App.js",["61"],"/Users/david/Precious Minds Dropbox/David Guetta/THP/Nxt-J7-2/THP_Next_TheSocialNetwork_v2/src/store/index.js",[],"/Users/david/Precious Minds Dropbox/David Guetta/THP/Nxt-J7-2/THP_Next_TheSocialNetwork_v2/src/store/auth-slice.js",[],"/Users/david/Precious Minds Dropbox/David Guetta/THP/Nxt-J7-2/THP_Next_TheSocialNetwork_v2/src/pages/HomePage.js",[],"/Users/david/Precious Minds Dropbox/David Guetta/THP/Nxt-J7-2/THP_Next_TheSocialNetwork_v2/src/components/Profile/UserProfile.js",[],"/Users/david/Precious Minds Dropbox/David Guetta/THP/Nxt-J7-2/THP_Next_TheSocialNetwork_v2/src/components/Layout/Layout.js",[],"/Users/david/Precious Minds Dropbox/David Guetta/THP/Nxt-J7-2/THP_Next_TheSocialNetwork_v2/src/components/Layout/MainNavigation.js",["62"],"import { Link } from \"react-router-dom\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { authActions } from \"../../store/auth-slice\";\nimport classes from \"./MainNavigation.module.css\";\n// import { useHistory } from \"react-router-dom\";\n\nconst MainNavigation = () => {\n  const token = useSelector((state) => state.auth.token);\n  const isLoggedIn = useSelector((state) => state.auth.isLoggedIn);\n  const dispatch = useDispatch();\n  // const history = useHistory();\n\n  const logoutHandler = () => {\n    dispatch(authActions.logout());\n    // history.replace(\"/auth\");\n  };\n\n  return (\n    <header className={classes.header}>\n      <Link to=\"/\">\n        <div className={classes.logo}>React Auth</div>\n      </Link>\n      <nav>\n        <ul>\n          {!isLoggedIn && (\n            <>\n              <li>\n                <Link to=\"/signin\">Login</Link>\n              </li>\n              <li>\n                <Link to=\"/signup\">Sign Up</Link>\n              </li>\n            </>\n          )}\n\n          {isLoggedIn && (\n            <>\n              <li>\n                <Link to=\"/profile\">Profile</Link>\n              </li>\n              <li>\n                <button onClick={logoutHandler}>Logout</button>\n              </li>\n            </>\n          )}\n        </ul>\n      </nav>\n    </header>\n  );\n};\n\nexport default MainNavigation;\n","/Users/david/Precious Minds Dropbox/David Guetta/THP/Nxt-J7-2/THP_Next_TheSocialNetwork_v2/src/components/StartingPage/StartingPageContent.js",[],"/Users/david/Precious Minds Dropbox/David Guetta/THP/Nxt-J7-2/THP_Next_TheSocialNetwork_v2/src/components/Auth/SignUpForm.js",["63","64"],"import { useState, useRef } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { authActions } from \"../../store/auth-slice\";\nimport { useHistory } from \"react-router-dom\";\n\nimport classes from \"./SignUpForm.module.css\";\n\nconst SignUpForm = () => {\n  const token = useSelector((state) => state.auth.token);\n  const logStatus = useSelector((state) => state.auth.isLoggedIn);\n\n  const [username, setUsername] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  const updateUsernameHandler = (e) => {\n    setUsername(e.target.value);\n  };\n  const updateEmailHandler = (e) => {\n    setEmail(e.target.value);\n  };\n  const updatePasswordHandler = (e) => {\n    setPassword(e.target.value);\n  };\n\n  const dispatch = useDispatch();\n\n  const submitHandler = async (e) => {\n    console.log(\"inscription demandée\");\n    e.preventDefault();\n    const dataAuth = {\n      username: username,\n      email: email,\n      password: password,\n    };\n\n    const res = await fetch(\"http://localhost:1337/auth/local/register\", {\n      method: \"post\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(dataAuth),\n    });\n\n    const data = await res.json();\n    console.log(data);\n\n    dispatch(authActions.login(data.jwt));\n  };\n\n  return (\n    <section className={classes.auth}>\n      <h1>{token}</h1>\n      <h1>{logStatus}</h1>\n      <h1>Sign Up</h1>\n      <form onSubmit={submitHandler}>\n      <h1>salut </h1>\n        <div className={classes.control}>\n          <label htmlFor=\"username\">Your Username</label>\n          <input type=\"text\" onChange={updateUsernameHandler} />\n        </div>\n        <div className={classes.control}>\n          <label htmlFor=\"email\">Your Email</label>\n          <input type=\"email\" onChange={updateEmailHandler} />\n        </div>\n        <div className={classes.control}>\n          <label htmlFor=\"password\">Your Password</label>\n          <input type=\"password\" onChange={updatePasswordHandler} />\n        </div>\n        <div className={classes.actions}>\n          <button type=\"submit\">Create new account</button>\n        </div>\n      </form>\n    </section>\n  );\n};\n\nexport default SignUpForm;\n","/Users/david/Precious Minds Dropbox/David Guetta/THP/Nxt-J7-2/THP_Next_TheSocialNetwork_v2/src/components/Auth/SignInForm.js",["65","66"],"import { useState, useRef } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { authActions } from \"../../store/auth-slice\";\nimport { useHistory } from \"react-router-dom\";\n\nimport classes from \"./SignInForm.module.css\";\n\nconst SignInForm = () => {\n  const token = useSelector((state) => state.auth.token);\n  const logStatus = useSelector((state) => state.auth.isLoggedIn);\n\n  const [login, setLogin] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  const updateLoginHandler = (e) => {\n    setLogin(e.target.value);\n  };\n  const updatePasswordHandler = (e) => {\n    setPassword(e.target.value);\n  };\n\n  const dispatch = useDispatch();\n\n  const submitHandler = async (e) => {\n    console.log(\"login demandé\");\n    e.preventDefault();\n    const dataSignIn = {\n      identifier: login,\n      password: password,\n    };\n\n    const res = await fetch(\"http://localhost:1337/auth/local\", {\n      method: \"post\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(dataSignIn),\n    });\n\n    const data = await res.json();\n    console.log(data);\n\n    dispatch(authActions.login(data.jwt));\n  };\n\n  return (\n    <section className={classes.auth}>\n      <h1>Sign in</h1>\n      <h1>{token}</h1>\n      <h1>{logStatus.toString()}</h1>\n      <form onSubmit={submitHandler}>\n        <div className={classes.control}>\n          <label htmlFor=\"login\">Your Username / Email</label>\n          <input type=\"text\" id=\"login\" onChange={updateLoginHandler} />\n        </div>\n        <div className={classes.control}>\n          <label htmlFor=\"password\">Your Password</label>\n          <input\n            type=\"password\"\n            id=\"password\"\n            onChange={updatePasswordHandler}\n          />\n        </div>\n        <div className={classes.actions}>\n          <button type=\"submit\">Sign In</button>\n        </div>\n      </form>\n    </section>\n  );\n};\n\nexport default SignInForm;\n","/Users/david/Precious Minds Dropbox/David Guetta/THP/Nxt-J7-2/THP_Next_TheSocialNetwork_v2/src/components/Profile/MyProfile.js",[],"/Users/david/Precious Minds Dropbox/David Guetta/THP/Nxt-J7-2/THP_Next_TheSocialNetwork_v2/src/components/Profile/MyProfileForm.js",["67"],"import classes from \"./MyProfileForm.module.css\";\nimport { useRef, useEffect } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { useHistory } from \"react-router-dom\";\n\nconst MyProfileForm = () => {\n  const newPasswordInputRef = useRef();\n  const token = useSelector((state) => state.auth.token);\n  const history = useHistory();\n\n\n  const submitHandler = (e) => {\n    e.preventDefault();\n    const enteredNewPassword = newPasswordInputRef.current.value;\n    fetch(\n      \"https://identitytoolkit.googleapis.com/v1/accounts:update?key=AIzaSyA0TBRZ8Rf7lz3aIICr6KoWgBlf5EcPDsw\",\n      {\n        method: \"POST\",\n        body: JSON.stringify({\n          idToken: token,\n          password: enteredNewPassword,\n          returnSecureToken: false,\n        }),\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n      }\n    ).then((res) => {\n      history.replace(\"/\");\n    });\n  };\n\n  return (\n    <>\n    <p>\n      {token}\n    </p>\n    <form className={classes.form} onSubmit={submitHandler}>\n      <div className={classes.control}>\n        <label htmlFor=\"new-password\">New Password</label>\n        <input\n          type=\"password\"\n          id=\"new-password\"\n          ref={newPasswordInputRef}\n          minLength=\"7\"\n        />\n      </div>\n      <div className={classes.action}>\n        <button>Change Password</button>\n      </div>\n    </form>\n    </>\n  );\n};\n\nexport default MyProfileForm;\n",{"ruleId":"68","replacedBy":"69"},{"ruleId":"70","replacedBy":"71"},{"ruleId":null,"fatal":true,"severity":2,"message":"72","line":17,"column":3},{"ruleId":"73","severity":1,"message":"74","line":8,"column":9,"nodeType":"75","messageId":"76","endLine":8,"endColumn":14},{"ruleId":"73","severity":1,"message":"77","line":1,"column":20,"nodeType":"75","messageId":"76","endLine":1,"endColumn":26},{"ruleId":"73","severity":1,"message":"78","line":4,"column":10,"nodeType":"75","messageId":"76","endLine":4,"endColumn":20},{"ruleId":"73","severity":1,"message":"77","line":1,"column":20,"nodeType":"75","messageId":"76","endLine":1,"endColumn":26},{"ruleId":"73","severity":1,"message":"78","line":4,"column":10,"nodeType":"75","messageId":"76","endLine":4,"endColumn":20},{"ruleId":"73","severity":1,"message":"79","line":2,"column":18,"nodeType":"75","messageId":"76","endLine":2,"endColumn":27},"no-native-reassign",["80"],"no-negated-in-lhs",["81"],"Parsing error: Unexpected token\n\n\u001b[0m \u001b[90m 15 |\u001b[39m   \u001b[36mconst\u001b[39m fetchMyProfile \u001b[33m=\u001b[39m () \u001b[33m=>\u001b[39m{\u001b[0m\n\u001b[0m \u001b[90m 16 |\u001b[39m     \u001b[36mconst\u001b[39m\u001b[0m\n\u001b[0m\u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 17 |\u001b[39m   } \u001b[0m\n\u001b[0m \u001b[90m    |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\u001b[0m\n\u001b[0m \u001b[90m 18 |\u001b[39m\u001b[0m\n\u001b[0m \u001b[90m 19 |\u001b[39m   \u001b[36mreturn\u001b[39m (\u001b[0m\n\u001b[0m \u001b[90m 20 |\u001b[39m     \u001b[33m<\u001b[39m\u001b[33mLayout\u001b[39m\u001b[33m>\u001b[39m\u001b[0m","no-unused-vars","'token' is assigned a value but never used.","Identifier","unusedVar","'useRef' is defined but never used.","'useHistory' is defined but never used.","'useEffect' is defined but never used.","no-global-assign","no-unsafe-negation"]